use internet_provider;

create table user (
	id int primary key auto_increment,
    name varchar(50) not null,
    surname varchar(50) not null,
    login varchar(50) not null,
    password varchar(32) not null,
    is_admin tinyint(1) not null,
    tariff_id int not null,
    amount decimal(10,2) not null default 0,
    is_blocked tinyint(1) not null,
    foreign key (tariff_id) references tariff(id)
);

create table tariff (
	id int primary key auto_increment,
    name varchar(50) not null,
    description varchar(150) not null,
    start_date date not null,
    end_date date,
    is_paid tinyint(1) not null default 0
);

create table tariff_price (
	id int primary key auto_increment,
    tariff_id int not null,
    promotion_id int,
    price decimal(10,2) not null default 0,
    foreign key (tariff_id) references tariff(id),
    foreign key (promotion_id) references promotion(id)
    );

create table promotion (
	id int primary key auto_increment,
    name varchar(50) not null,
    description varchar(150) not null,
    discount decimal(10,2) not null default 0,
    tarrif_id int not null,
    start_date date not null,
    end_date date not null
    );